<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hub Configuration Options &mdash; Koji alpha documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Database Performance Howto" href="database_howto.html" />
    <link rel="prev" title="Builder Configuration Options" href="kojid_conf.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Koji
          </a>
              <div class="version">
                1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Operations Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="server_howto.html">Server Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="server_bootstrap.html">Koji Server Bootstrap</a></li>
<li class="toctree-l2"><a class="reference internal" href="volumes.html">Storage Volumes</a></li>
<li class="toctree-l2"><a class="reference internal" href="external_repo_server_bootstrap.html">External Repository Server Bootstrap</a></li>
<li class="toctree-l2"><a class="reference internal" href="kerberos_gssapi_debug.html">Koji Kerberos/GSSAPI debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="kojid_conf.html">Builder Configuration Options</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Hub Configuration Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#file-locations">File locations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#file-permissions">File permissions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#basic-options">Basic options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#general-authentication-options">General authentication options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gssapi-authentication-options">GSSAPI authentication options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ssl-client-certificate-auth-configuration">SSL client certificate auth configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notification-options">Notification options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#resource-limits">Resource limits</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extended-features">Extended features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#koji-hub-plugins">Koji hub plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="#koji-debugging">Koji debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hub-policy">Hub Policy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#koji-outages-options">Koji outages options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#name-verification">Name verification</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="database_howto.html">Database Performance Howto</a></li>
<li class="toctree-l2"><a class="reference internal" href="image_build.html">Building Images in Koji</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugins.html">Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">Koji Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="tasks.html">Tasks Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="containers.html">Running Koji in Containers</a></li>
<li class="toctree-l2"><a class="reference internal" href="supported_platforms.html">Supported Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html">Releases</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Administration Guide/index.html">Administration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../User Guide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Developer Guide/index.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../runs_here.html">Runs Here</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Koji</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Operations Guide</a> &raquo;</li>
      <li>Hub Configuration Options</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/Operations Guide/hub_conf.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="hub-configuration-options">
<h1>Hub Configuration Options<a class="headerlink" href="#hub-configuration-options" title="Permalink to this headline">¶</a></h1>
<p>The hub can be configured via one or more ini-style configuration files.
Options below should be placed in the <code class="docutils literal notranslate"><span class="pre">[hub]</span></code> section of these files.</p>
<p>These files can also contain a <code class="docutils literal notranslate"><span class="pre">[policy]</span></code> section for configuring policies.
This is described in <a class="reference internal" href="../Administration Guide/defining_hub_policies.html"><span class="doc">policy</span></a>.</p>
<div class="section" id="file-locations">
<h2>File locations<a class="headerlink" href="#file-locations" title="Permalink to this headline">¶</a></h2>
<p>By default, koji-hub will read a primary configuration file at
<code class="docutils literal notranslate"><span class="pre">/etc/koji-hub/hub.conf</span></code> and any number of supplemental configuration
files in the <code class="docutils literal notranslate"><span class="pre">/etc/koji-hub/hub.conf.d</span></code> directory.
Options in the primary configuration file take precedence in case of duplication.</p>
<p>If needed, these locations can be changed by setting the environment variables
<code class="docutils literal notranslate"><span class="pre">koji.hub.ConfigFile</span></code> and <code class="docutils literal notranslate"><span class="pre">koji.hub.ConfigDir</span></code> respectively, e.g. by using
the SetEnv directive in the httpd configuration.</p>
<p>A common pattern is to place policy rules and/or sensitive values in separate configuration
files.</p>
</div>
<div class="section" id="file-permissions">
<h2>File permissions<a class="headerlink" href="#file-permissions" title="Permalink to this headline">¶</a></h2>
<p>Note some configuration options (e.g. database password) are sensitive values.
Our default packaging installs <code class="docutils literal notranslate"><span class="pre">hub.conf</span></code> with 0640 root/apache file permissions.
If you’re installing some other way, we recommend that you double-check these permissions.</p>
</div>
<div class="section" id="basic-options">
<h2>Basic options<a class="headerlink" href="#basic-options" title="Permalink to this headline">¶</a></h2>
<dl class="glossary">
<dt id="term-dbname">DBName</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>The name of the database that the hub should connect to.</p>
</dd>
<dt id="term-dbhost">DBHost</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>The hostname that the database is running on.</p>
<p>Note: If your database server is running locally and you would like to connect
via Unix socket instead of TCP, then omit the <code class="docutils literal notranslate"><span class="pre">DBHost</span></code> and <code class="docutils literal notranslate"><span class="pre">DBPort</span></code> options.
If you set <code class="docutils literal notranslate"><span class="pre">DBHost</span></code> to <code class="docutils literal notranslate"><span class="pre">localhost</span></code>, then the connection will be over TCP.</p>
</dd>
<dt id="term-dbport">DBPort</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>The port to use when connecting to the database over TCP.</p>
</dd>
<dt id="term-dbuser">DBUser</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>The database user to connect as.</p>
</dd>
<dt id="term-dbpass">DBPass</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>The password for connecting to the database.</p>
<p>Please ensure that your hub configuration file(s) have appropriate file permissions
before placing sensitive data in them.</p>
</dd>
<dt id="term-dbconnectionstring">DBConnectionString</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>The connection string (dsn) for connecting to the database.
This overrides the other <code class="docutils literal notranslate"><span class="pre">DB*</span></code> options.
This value is passed through to psycopg2 and would typically look something like:
<code class="docutils literal notranslate"><span class="pre">dbname=koji</span> <span class="pre">user=koji</span> <span class="pre">host=db.example.com</span> <span class="pre">port=5432</span> <span class="pre">password=example_password</span></code></p>
</dd>
<dt id="term-kojidir">KojiDir</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">/mnt/koji</span></code></p>
<p>This is the root directory for koji files.</p>
</dd>
</dl>
<p>The database connection can be specified either by the single <code class="docutils literal notranslate"><span class="pre">DBConnectionString</span></code>
option, or by other individual <code class="docutils literal notranslate"><span class="pre">DB*</span></code> options.
If given, the <code class="docutils literal notranslate"><span class="pre">DBConnectionString</span></code> option takes precedence.</p>
</div>
<div class="section" id="general-authentication-options">
<h2>General authentication options<a class="headerlink" href="#general-authentication-options" title="Permalink to this headline">¶</a></h2>
<dl class="glossary">
<dt id="term-checkclientip">CheckClientIP</dt><dd><p>Type: boolean</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
<p>Use user IP in session management.</p>
</dd>
<dt id="term-logincreatesuser">LoginCreatesUser</dt><dd><p>Type: boolean</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
<p>Whether or not to automatically create a new user from valid ssl or gssapi credentials.</p>
</dd>
</dl>
</div>
<div class="section" id="gssapi-authentication-options">
<h2>GSSAPI authentication options<a class="headerlink" href="#gssapi-authentication-options" title="Permalink to this headline">¶</a></h2>
<p>The following options control aspects of authentication when using <code class="docutils literal notranslate"><span class="pre">mod_auth_gssapi</span></code>.</p>
<dl class="glossary">
<dt id="term-proxyprincipals">ProxyPrincipals</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>A comma separated list of principals that are allowed to perform proxy authentication.
This ability is only intended for kojiweb.</p>
</dd>
<dt id="term-hostprincipalformat">HostPrincipalFormat</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>This format string is used to set the principal when adding new hosts.
The <code class="docutils literal notranslate"><span class="pre">%s</span></code> is expanded to the hostname.
If a specific principal is given to the <code class="docutils literal notranslate"><span class="pre">add-host</span></code> command then this option
is not used.</p>
</dd>
<dt id="term-allowedkrbrealms">AllowedKrbRealms</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">*</span></code></p>
<p>Allowed Kerberos Realms. The default value “*” indicates any Realm is allowed.
This is a comma separated list.</p>
</dd>
<dt id="term-disablegssapiproxydnfallback">DisableGSSAPIProxyDNFallback</dt><dd><p>Type: boolean</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
<p>If True, enables backwards compatible behavior in the handling of the <code class="docutils literal notranslate"><span class="pre">ProxyDNs</span></code>
option.
The default value of False is recommended.</p>
</dd>
</dl>
<p>Enabling gssapi auth also requires settings in the httpd config.</p>
</div>
<div class="section" id="ssl-client-certificate-auth-configuration">
<h2>SSL client certificate auth configuration<a class="headerlink" href="#ssl-client-certificate-auth-configuration" title="Permalink to this headline">¶</a></h2>
<p>If using SSL auth, these settings need to be valid and in line with other services configurations
for kojiweb to allow logins.</p>
<dl class="glossary">
<dt id="term-dnusernamecomponent">DNUsernameComponent</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">CN</span></code></p>
<p>The client username is the common name of the subject of their client certificate.</p>
</dd>
<dt id="term-proxydns">ProxyDNs</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">''</span></code></p>
<p>If specified, the given DNs are allowed to perform proxy authentication.
This ability is only intended for kojiweb.
Multiple DNs can be separated with the vertical bar character, <code class="docutils literal notranslate"><span class="pre">|</span></code>.</p>
</dd>
</dl>
<p>Enabling ssl auth also requires editing the httpd config (conf.d/kojihub.conf).</p>
</div>
<div class="section" id="notification-options">
<h2>Notification options<a class="headerlink" href="#notification-options" title="Permalink to this headline">¶</a></h2>
<dl class="glossary">
<dt id="term-kojiweburl">KojiWebURL</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">http://localhost.localdomain/koji</span></code></p>
<p>This specifies the URL address of Koji web.
This setting affects the links that appear in notification messages.</p>
</dd>
<dt id="term-emaildomain">EmailDomain</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>Email domain name that koji will append to usernames when creating email notifications.</p>
</dd>
<dt id="term-notifyonsuccess">NotifyOnSuccess</dt><dd><p>Type: boolean</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
<p>Whether to send the task owner and package owner email or not on success.
This still goes to watchers.</p>
</dd>
<dt id="term-disablenotifications">DisableNotifications</dt><dd><p>Type: boolean</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
<p>Disables all notifications</p>
</dd>
</dl>
<p>For more on notifications in Koji, see <a class="reference internal" href="../User Guide/using_the_koji_build_system.html#notification-basics"><span class="std std-ref">Notifications</span></a></p>
</div>
<div class="section" id="resource-limits">
<h2>Resource limits<a class="headerlink" href="#resource-limits" title="Permalink to this headline">¶</a></h2>
<p>If configured, the following resource limits are applied by the hub at startup.
Each value defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>, meaning no limit is applied.
If given, the value should be either a single integer or a pair of integers separated by whitespace.</p>
<p>If a pair of integers is given, this sets both the soft and hard limits for the resource.
If a single integer is given, only the soft limit is set.</p>
<dl class="glossary">
<dt id="term-rlimit-as">RLIMIT_AS</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>This is the maximum size of the process’s virtual memory (address space).
The limit is specified in bytes, and is rounded down to the system page size.</p>
</dd>
<dt id="term-rlimit-core">RLIMIT_CORE</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>This is the maximum size of a core file in bytes that the process may dump.
When 0, no core dump file are created. When nonzero, larger dumps are truncated to this size.</p>
</dd>
<dt id="term-rlimit-cpu">RLIMIT_CPU</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>This is a limit, in seconds, on the amount of CPU time that the process can consume.</p>
</dd>
<dt id="term-rlimit-data">RLIMIT_DATA</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>This is the maximum size of the process’s data segment (initialized data,
uninitialized data, and heap). The limit is specified in bytes,
and is rounded down to the system page size.</p>
</dd>
<dt id="term-rlimit-fsize">RLIMIT_FSIZE</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>This is the maximum size in bytes of files that the process may create.</p>
</dd>
<dt id="term-rlimit-memlock">RLIMIT_MEMLOCK</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>This is the maximum number of bytes of memory that may be  locked into RAM.
This limit is in effect rounded down to the nearest multiple of the system page size.</p>
</dd>
<dt id="term-rlimit-nofile">RLIMIT_NOFILE</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>This specifies a value one greater than the maximum file descriptor number that
can be opened by this process.</p>
</dd>
<dt id="term-rlimit-nproc">RLIMIT_NPROC</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>This is a limit on the number of extant process (or, more precisely on Linux, threads)
for the real user ID of the  calling process.</p>
</dd>
<dt id="term-rlimit-ofile">RLIMIT_OFILE</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>This specifies a value one greater than the maximum file descriptor number that
can be opened by this process. This limit was on BSD.</p>
</dd>
<dt id="term-rlimit-rss">RLIMIT_RSS</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>This is a limit (in bytes) on the process’s resident set (the number of virtual pages resident in RAM).</p>
</dd>
<dt id="term-rlimit-stack">RLIMIT_STACK</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>This is the maximum size of the process stack, in bytes.</p>
</dd>
</dl>
<p>Additionally, the following options govern resource-related behavior.</p>
<dl class="glossary">
<dt id="term-memorywarnthreshold">MemoryWarnThreshold</dt><dd><p>Type: int</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">5000</span></code></p>
<p>If memory consumption rises more than this value (in kilobytes) while handling a single
request, a warning will be emitted to the log</p>
</dd>
<dt id="term-maxrequestlength">MaxRequestLength</dt><dd><p>Type: int</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">4194304</span></code></p>
<p>This sets the maximum request length that the hub will process.
If a longer request is encountered, the hub will stop reading it and return an error.</p>
</dd>
</dl>
</div>
<div class="section" id="extended-features">
<h2>Extended features<a class="headerlink" href="#extended-features" title="Permalink to this headline">¶</a></h2>
<p>Koji includes limited support for building via Maven or under Windows.</p>
<dl class="glossary">
<dt id="term-enablemaven">EnableMaven</dt><dd><p>Type: boolean</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
<p>This option enables support for building with Maven.</p>
</dd>
<dt id="term-enablewin">EnableWin</dt><dd><p>Type: boolean</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
<p>This option enables support for <a class="reference internal" href="../Administration Guide/winbuild.html"><span class="doc">Windows builds</span></a>.</p>
</dd>
</dl>
</div>
<div class="section" id="koji-hub-plugins">
<h2>Koji hub plugins<a class="headerlink" href="#koji-hub-plugins" title="Permalink to this headline">¶</a></h2>
<p>The hub supports plugins, which are loaded from the <code class="docutils literal notranslate"><span class="pre">PluginPath</span></code> directory.</p>
<dl class="glossary">
<dt id="term-pluginpath">PluginPath</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">/usr/lib/koji-hub-plugins</span></code></p>
<p>The path where plugins are found.</p>
</dd>
<dt id="term-plugins">Plugins</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">''</span></code></p>
<p>A space-separated list of plugins to load.
Each entry should be the name of a plugin file (without the <code class="docutils literal notranslate"><span class="pre">.py</span></code>).
Only plugins from the configured <code class="docutils literal notranslate"><span class="pre">PluginPath</span></code> can be loaded.</p>
</dd>
</dl>
</div>
<div class="section" id="koji-debugging">
<h2>Koji debugging<a class="headerlink" href="#koji-debugging" title="Permalink to this headline">¶</a></h2>
<p>The following options are primarily intended for debugging Koji’s behavior.</p>
<dl class="glossary">
<dt id="term-kojidebug">KojiDebug</dt><dd><p>Type: boolean</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
<p>If KojiDebug is on, the hub will be /very/ verbose and will report exception details to
clients for anticipated errors (i.e. koji’s own exceptions – subclasses of koji.GenericError).</p>
<p>This option is only intended for specialized debugging and should be left off in production
environments.</p>
</dd>
<dt id="term-kojitraceback">KojiTraceback</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>This determines how much detail about exceptions is reported to the client (via faults).
The meaningful values are:</p>
<ul class="simple">
<li><p>normal - a basic traceback (format_exception)</p></li>
<li><p>extended - an extended traceback (format_exc_plus)</p></li>
</ul>
<p>If left unset, the default behavior is to omit the traceback and just report the error
class and message.</p>
<p>Note: the extended traceback is intended for debugging only and should NOT be used in production,
since it may contain sensitive information.</p>
</dd>
<dt id="term-loglevel">LogLevel</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">WARNING</span></code></p>
<p>This option controls the log level the hub logs.
Koji uses the standard Python logging module and the standard log level names.</p>
<p>Setting multiple log levels for different parts of the hub code is possible.
The option is treated as a space-separated list log level directives, which
can be either a single log level name (sets the default log level) or a
logger:level pair (sets the log level for the given logger namespace).</p>
<p>For example, you could set:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">LogLevel</span> <span class="pre">=</span> <span class="pre">INFO</span> <span class="pre">koji.db:DEBUG</span></code></p>
</div></blockquote>
<p>To see debug logging only for the db module.</p>
</dd>
<dt id="term-logformat">LogFormat</dt><dd><p>Type:string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">%(asctime)s</span> <span class="pre">[%(levelname)s]</span> <span class="pre">m=%(method)s</span> <span class="pre">u=%(user_name)s</span> <span class="pre">p=%(process)s</span> <span class="pre">r=%(remoteaddr)s</span> <span class="pre">%(name)s:</span> <span class="pre">%(message)s</span></code></p>
<p>This sets the log format string for log messages issued by the hub code.
In addition to the normal values available from the logging module, the hub’s log formatter provides:</p>
<ul class="simple">
<li><p>method – the method name for the call being processed</p></li>
<li><p>user_id – the id of the user making the call</p></li>
<li><p>user_name – the name of the user making the call</p></li>
<li><p>session_id – the session_id of the call</p></li>
<li><p>callnum – the callnum value for the session</p></li>
<li><p>remoteaddr – the ip address and port (colon separated) that the call is coming from</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="hub-policy">
<h2>Hub Policy<a class="headerlink" href="#hub-policy" title="Permalink to this headline">¶</a></h2>
<dl class="glossary">
<dt id="term-verbosepolicy">VerbosePolicy</dt><dd><p>Type: boolean</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
<p>If VerbosePolicy (or KojiDebug) is on, ‘policy violation’ messages will report the
policy rule which caused the denial.</p>
</dd>
<dt id="term-missingpolicyok">MissingPolicyOk</dt><dd><p>Type: boolean</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
<p>If MissingPolicyOk is on, and a given policy is not defined, the policy check will return
‘allow’, otherwise such cases will result in ‘deny’.</p>
</dd>
</dl>
</div>
<div class="section" id="koji-outages-options">
<h2>Koji outages options<a class="headerlink" href="#koji-outages-options" title="Permalink to this headline">¶</a></h2>
<p>These options are intended for planned outages.</p>
<dl class="glossary">
<dt id="term-serveroffline">ServerOffline</dt><dd><p>Type: boolean</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
<p>If ServerOffline is True, the server will always report a ServerOffline fault
(with OfflineMessage as the fault string).</p>
</dd>
<dt id="term-offlinemessage">OfflineMessage</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>This controls the error message that is reported when <code class="docutils literal notranslate"><span class="pre">ServerOffline</span></code> is set.</p>
</dd>
<dt id="term-lockout">LockOut</dt><dd><p>Type: boolean</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
<p>If Lockout is True, the server will report a ServerOffline fault for most non-admin requests.</p>
</dd>
</dl>
</div>
<div class="section" id="name-verification">
<h2>Name verification<a class="headerlink" href="#name-verification" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>Currently we have two groups for name verification:</dt><dd><ul class="simple">
<li><p>internal names</p></li>
<li><p>user names</p></li>
</ul>
</dd>
<dt>Group internal names is currently used for:</dt><dd><ul class="simple">
<li><p>archive type</p></li>
<li><p>btype</p></li>
<li><p>channel</p></li>
<li><p>external repo</p></li>
<li><p>group</p></li>
<li><p>host</p></li>
<li><p>kerberos</p></li>
<li><p>permission</p></li>
<li><p>tag</p></li>
<li><p>target</p></li>
<li><p>volume</p></li>
</ul>
</dd>
<dt>Group user names is currently used for:</dt><dd><ul class="simple">
<li><p>user</p></li>
<li><p>host</p></li>
</ul>
</dd>
</dl>
<p>Host names are listed in both groups because hosts always have an associated user entry.</p>
<dl class="glossary">
<dt id="term-maxnamelengthinternal">MaxNameLengthInternal</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">256</span></code></p>
<p>Set length of internal names. By default there is allowed length set up to 256.
When length is set up to 0, length verifying is disabled.</p>
</dd>
<dt id="term-regexnameinternal">RegexNameInternal</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">^[A-Za-z0-9/_.+-]+$</span></code></p>
<p>Set regex for verify an internal names. When regex string is empty, verifying
is disabled.</p>
</dd>
<dt id="term-regexusername-a-za-z0-9">RegexUserName = ^[A-Za-z0-9/_.&#64;-]+$</dt><dd><p>Type: string</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">^[A-Za-z0-9/_.&#64;-]+$</span></code></p>
<p>Set regex for verify a user name and kerberos. User name and kerberos have
in default set up allowed ‘&#64;’ and ‘/’ chars on top of basic name regex
for internal names. When regex string is empty, verifying is disabled.</p>
</dd>
</dl>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="kojid_conf.html" class="btn btn-neutral float-left" title="Builder Configuration Options" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="database_howto.html" class="btn btn-neutral float-right" title="Database Performance Howto" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017, Mike McLean, Mike B, Dennis Gilmore, Mathieu Bridon, Ian McLeod, Ralph Bean, Adam Miller.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>