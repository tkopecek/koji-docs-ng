<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Koji 1.18.0 Release notes &mdash; Koji alpha documentation</title><link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Koji 1.17.0 Release notes" href="release_notes_1.17.html" />
    <link rel="prev" title="Koji 1.18.1 Release Notes" href="release_notes_1.18.1.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> Koji
          </a>
              <div class="version">
                1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Operations Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../server_howto.html">Server Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../server_bootstrap.html">Koji Server Bootstrap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../volumes.html">Storage Volumes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../external_repo_server_bootstrap.html">External Repository Server Bootstrap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kerberos_gssapi_debug.html">Koji Kerberos/GSSAPI debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kojid_conf.html">Builder Configuration Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hub_conf.html">Hub Configuration Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database_howto.html">Database Performance Howto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../image_build.html">Building Images in Koji</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins.html">Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils.html">Koji Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tasks.html">Tasks Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../containers.html">Running Koji in Containers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../supported_platforms.html">Supported Platforms</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../releases.html">Releases</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../CVEs/CVEs.html">Koji CVEs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../migrations/migrations.html">Migrations</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="release_notes.html">Release Notes</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.27.html">Koji 1.27.0 Release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.26.1.html">Koji 1.26.1 Release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.26.html">Koji 1.26.0 Release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.25.1.html">Koji 1.25.1 Release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.25.html">Koji 1.25.0 Release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.24.1.html">Koji 1.24.1 Release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.24.html">Koji 1.24.0 Release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.23.1.html">Koji 1.23.1 Release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.23.html">Koji 1.23.0 Release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.22.1.html">Koji 1.22.1 Release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.22.html">Koji 1.22.0 Release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.21.1.html">Koji 1.21.1 Release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.21.html">Koji 1.21.0 Release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.20.1.html">Koji 1.20.1 Release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.20.html">Koji 1.20.0 Release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.19.1.html">Koji 1.19.1 Release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.19.html">Koji 1.19.0 Release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.18.1.html">Koji 1.18.1 Release Notes</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Koji 1.18.0 Release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.17.html">Koji 1.17.0 Release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.16.2.html">Koji 1.16.2 Release Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.16.1.html">Koji 1.16.1 Release Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.16.html">Koji 1.16.0 Release notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.15.1.html">Koji 1.15.1 Release Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.15.html">Koji 1.15 Release Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.14.html">Koji 1.14 Release Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="release_notes_1.13.html">Koji 1.13 Release Notes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Administration Guide/index.html">Administration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../User Guide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Developer Guide/index.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../runs_here.html">Runs Here</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Koji</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">Operations Guide</a> &raquo;</li>
          <li><a href="../releases.html">Releases</a> &raquo;</li>
          <li><a href="release_notes.html">Release Notes</a> &raquo;</li>
      <li>Koji 1.18.0 Release notes</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/Operations Guide/release_notes/release_notes_1.18.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="koji-1-18-0-release-notes">
<h1>Koji 1.18.0 Release notes<a class="headerlink" href="#koji-1-18-0-release-notes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="migrating-from-koji-1-17">
<h2>Migrating from Koji 1.17<a class="headerlink" href="#migrating-from-koji-1-17" title="Permalink to this headline">¶</a></h2>
<p>For details on migrating see <a class="reference internal" href="../migrations/migrating_to_1.18.html"><span class="doc">Migrating to Koji 1.18</span></a></p>
</div>
<div class="section" id="security-fixes">
<h2>Security Fixes<a class="headerlink" href="#security-fixes" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="client-changes">
<h2>Client Changes<a class="headerlink" href="#client-changes" title="Permalink to this headline">¶</a></h2>
<p><strong>Add option for custom cert location</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1253">https://pagure.io/koji/pull-request/1253</a></div>
</div>
<p>The CLI now has an option for setting a custom SSL certificate, similar to the
options for Kerberos authentication.</p>
<p><strong>Load client plugins from ~/.koji/plugins</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/892">https://pagure.io/koji/pull-request/892</a></div>
</div>
<p>This change allows users to load their own cli plugins from <code class="docutils literal notranslate"><span class="pre">~/.koji/plugins</span></code>
or from another location by using the <code class="docutils literal notranslate"><span class="pre">plugin_paths</span></code> setting.</p>
<p><strong>Show load/capacity in list-channels</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1449">https://pagure.io/koji/pull-request/1449</a></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">list-channels</span></code> display has been expanded to show overall totals for load
and capacity.</p>
<p><strong>Allow taginfo cli to use tag IDs</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1476">https://pagure.io/koji/pull-request/1476</a></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">taginfo</span></code> command can now accept a numeric tag id on the command line.</p>
<p><strong>Add option to show channels in list-hosts</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1425">https://pagure.io/koji/pull-request/1425</a></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">list-hosts</span></code> command will now display channel subscriptions if the
<code class="docutils literal notranslate"><span class="pre">--show-channels</span></code> option is given.</p>
<p><strong>Remove merge option from edit-external-repo</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1499">https://pagure.io/koji/pull-request/1499</a></div>
</div>
<p>This option was mistakenly added to the command and never did anything.
It is gone now.</p>
<p><strong>Honor mock.package_manager tag setting in mock-config cli</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1374">https://pagure.io/koji/pull-request/1374</a></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">mock-config</span></code> command will now honor this setting just as <code class="docutils literal notranslate"><span class="pre">kojid</span></code> does.</p>
</div>
<div class="section" id="library-changes">
<h2>Library Changes<a class="headerlink" href="#library-changes" title="Permalink to this headline">¶</a></h2>
<p><strong>New multicall interface</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/957">https://pagure.io/koji/pull-request/957</a></div>
</div>
<p>This feature implements a new and much better way to use multicall in the Koji
library.
These changes create a new implementation outside of ClientSession.
The old way will still work.</p>
<p>With this new implementation:</p>
<ul class="simple">
<li><p>a multicall is tracked as an instance of <cite>MultiCallSession</cite></p></li>
<li><p>the original session is unaffected</p></li>
<li><p>multiple multicalls can be managed in parallel, if desired</p></li>
<li><p><cite>MultiCallSession</cite> behaves more or less like a session in multicall mode</p></li>
<li><p>method calls return a <cite>VirtualCall</cite> instance that can later be used to access the result</p></li>
<li><p><cite>MultiCallSession</cite> can be used as a context manager, ensuring that the calls are executed</p></li>
</ul>
<p>Usage examples can be found in the <a class="reference internal" href="../../Developer Guide/writing_koji_code.html"><span class="doc">Writing Koji Code</span></a> document.</p>
</div>
<div class="section" id="web-ui-changes">
<h2>Web UI Changes<a class="headerlink" href="#web-ui-changes" title="Permalink to this headline">¶</a></h2>
<p><strong>Retain old search pattern in web ui</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1258">https://pagure.io/koji/pull-request/1258</a></div>
</div>
<p>The search results page of the web ui now retains a search form with the
current search pre-filled.
This makes it easier for users to refine their searches.</p>
<p><strong>Display task durations in webui</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1383">https://pagure.io/koji/pull-request/1383</a></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">taskinfo</span></code> page in the web ui now shows task durations in addition to
timestamps.</p>
</div>
<div class="section" id="builder-changes">
<h2>Builder Changes<a class="headerlink" href="#builder-changes" title="Permalink to this headline">¶</a></h2>
<p><strong>Rebuild SRPMS before building</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1462">https://pagure.io/koji/pull-request/1462</a></div>
</div>
<p>For rpm builds from an uploaded srpm, Koji will now rebuild the srpm in the
build environment first.
This ensures that the NVR is correct for the resulting build.</p>
<p>The old behavior can be requested by setting <code class="docutils literal notranslate"><span class="pre">rebuild_srpm=False</span></code> in the tag
extra data for the build tag in question.</p>
<p><strong>User createrepo_c by default</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1278">https://pagure.io/koji/pull-request/1278</a></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">use_createrepo_c</span></code> configuration option for <code class="docutils literal notranslate"><span class="pre">kojid</span></code> now defaults to True.</p>
<p><strong>Use createrepo update option even for first repo run</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1363">https://pagure.io/koji/pull-request/1363</a></div>
</div>
<p>If there is no older repo for a tag, Koji will now attempt to find
a related repo to use <code class="docutils literal notranslate"><span class="pre">createrepo</span> <span class="pre">--update</span></code> with.
This will speed up first-time repo generations for tags that
predominantly inherit their content from another build tag.</p>
<p><strong>Scale task_avail_delay based on bin rank</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1386">https://pagure.io/koji/pull-request/1386</a></div>
</div>
<p>This is an adjustment to Koji’s decentralized scheduling algorithm.
It should result in better utilization of host capacity, particularly when
a channel has hosts that are very heterogeneous in capacity.</p>
<p>The meaning of the <code class="docutils literal notranslate"><span class="pre">task_avail_delay</span></code> setting is different now.
Within a channel-arch bin, the hosts with highest capacity will take the task
immediately, while hosts lower down will have a delay proportional to their
rank.
The “rank” here is a float between 0.0 and 1.0 used as a multiplier.
So <code class="docutils literal notranslate"><span class="pre">task_avail_delay</span></code> is the maximum time that any host will wait to
take a task.</p>
<p>Hosts with higher available capacity will be more likely to claim a
task, resulting in better utilization of the highest capacity hosts.</p>
<p><strong>Use RawConfigParser for kojid</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1544">https://pagure.io/koji/pull-request/1544</a></div>
</div>
<p>The use of percent signs is common in <code class="docutils literal notranslate"><span class="pre">kojid.conf</span></code> because of the
<code class="docutils literal notranslate"><span class="pre">host_principal_format</span></code> setting.
This causes an error in python3 if <code class="docutils literal notranslate"><span class="pre">SafeConfigParser</span></code> is used, so we use
<code class="docutils literal notranslate"><span class="pre">RawConfigParser</span></code> instead.</p>
<p><strong>Handle bare merge mode</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1411">https://pagure.io/koji/pull-request/1411</a></div>
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1516">https://pagure.io/koji/pull-request/1516</a></div>
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1502">https://pagure.io/koji/pull-request/1502</a></div>
</div>
<p>This feature adds a new merge mode for external repos named <code class="docutils literal notranslate"><span class="pre">bare</span></code>.
This mode is intended for use with modularity.</p>
<p>Use of this mode requires createrepo_c version 0.14.0 or later on the builders
that handle the createrepo tasks.</p>
</div>
<div class="section" id="system-changes">
<h2>System Changes<a class="headerlink" href="#system-changes" title="Permalink to this headline">¶</a></h2>
<p><strong>API for reserving NVRs for content generators</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1464">https://pagure.io/koji/pull-request/1464</a></div>
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1597">https://pagure.io/koji/pull-request/1597</a></div>
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1601">https://pagure.io/koji/pull-request/1601</a></div>
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1602">https://pagure.io/koji/pull-request/1602</a></div>
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1606">https://pagure.io/koji/pull-request/1606</a></div>
</div>
<p>This feature allows content generators to reserve NVRs earlier in the build
process similar to builds performed by <code class="docutils literal notranslate"><span class="pre">kojid</span></code>. The NVR is reserved by
calling <code class="docutils literal notranslate"><span class="pre">CGInitBuild()</span></code> and finalized by the <code class="docutils literal notranslate"><span class="pre">CGImport()</span></code> call.</p>
<p><strong>Per-tag configuration of rpm macros</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/898">https://pagure.io/koji/pull-request/898</a></div>
</div>
<p>This feature allows setting rpm macros via the tag extra field. These macros
will be added to the mock configuration for the buildroot. The system
looks for extra values of the form <code class="docutils literal notranslate"><span class="pre">rpm.macro.NAME</span></code>.</p>
<p>For example, to set the dist tag for a given tag, you could use a command like:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> koji edit-tag f30-build -x rpm.macro.dist<span class="o">=</span>MYDISTTAG
</pre></div>
</div>
<p><strong>Per-tag configuration for module_hotfixes setting</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1524">https://pagure.io/koji/pull-request/1524</a></div>
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1578">https://pagure.io/koji/pull-request/1578</a></div>
</div>
<p>Koji now handles the field <code class="docutils literal notranslate"><span class="pre">mock.yum.module_hotfixes</span></code> in the tag extra.
When set, kojid will set <code class="docutils literal notranslate"><span class="pre">module_hotfixes=0/1</span></code> in the yum portion of the
mock configuration for a buildroot.</p>
<p><strong>Allow users to opt out of notifications</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1417">https://pagure.io/koji/pull-request/1417</a></div>
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1580">https://pagure.io/koji/pull-request/1580</a></div>
</div>
<p>This feature lets users opt out of notifications that they would otherwise
automatically recieve, such as build and tag notifications for:</p>
<ul class="simple">
<li><p>the build owner (the user who submitted the build)</p></li>
<li><p>the package owner within the given tag</p></li>
</ul>
<p>These opt-outs are user controlled and can be managed with the new
<code class="docutils literal notranslate"><span class="pre">block-notification</span></code> and <code class="docutils literal notranslate"><span class="pre">unblock-notificiation</span></code> commands.</p>
<p><strong>Allow hub policy to match version and release</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1513">https://pagure.io/koji/pull-request/1513</a></div>
</div>
<p>This feature adds new policy tests to match <code class="docutils literal notranslate"><span class="pre">version</span></code> and <code class="docutils literal notranslate"><span class="pre">release</span></code>.
This tests are glob pattern matches.</p>
<p><strong>Allow hub policy to match build type</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1415">https://pagure.io/koji/pull-request/1415</a></div>
</div>
<p>Koji added btypes in version 1.11 along with content generators.
Now, all builds have one or more btypes.</p>
<p>This change allows policies to check the btype value using the <code class="docutils literal notranslate"><span class="pre">buildtype</span></code> test.</p>
<p><strong>More granular admin permissions</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1454">https://pagure.io/koji/pull-request/1454</a></div>
</div>
<p>A number of actions that were previously admin-only are now governed by
separate permissions:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">host</span></code></dt><dd><p>This permission governs most host management operations, such as
adding, editing, enabling/disabling, and restarting.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tag</span></code></dt><dd><p>This permission governs adding, editing, and deleting tags.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">target</span></code></dt><dd><p>This permission governs adding, editing, and deleting targets.</p>
</dd>
</dl>
</div></blockquote>
<p>Koji administrators may want to consider reducing the number of users with
full <code class="docutils literal notranslate"><span class="pre">admin</span></code> permission.</p>
<p><strong>Option to generate separate source repo</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1273">https://pagure.io/koji/pull-request/1273</a></div>
</div>
<p>The (non-dist) yum repos that Koji generates for building normally don’t
include srpms.
An old option allowed them to be included in some cases, but they were simply
added to each repo.
Newer options have been added that instruct Koji to include them as a separate
src repo.</p>
<p>In the cli, the <code class="docutils literal notranslate"><span class="pre">regen-repo</span></code> command now accepts a <code class="docutils literal notranslate"><span class="pre">--separate-source</span></code>
option that triggers this behavior.</p>
<p>In <code class="docutils literal notranslate"><span class="pre">kojira</span></code>, the <code class="docutils literal notranslate"><span class="pre">separate_source_tags</span></code> option is a list of tag patterns.
Build tags that match any of these patterns will have their repos generated
with a separate src repo.</p>
<p><strong>Add volume option for dist-repo</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1327">https://pagure.io/koji/pull-request/1327</a></div>
</div>
<p>Dist repos can now be generated on volumes other than the main one.
Use the <code class="docutils literal notranslate"><span class="pre">--volume</span></code> option to the <code class="docutils literal notranslate"><span class="pre">dist-repo</span></code> command to do so.</p>
<p>Generally you want the repo to be on the same volume as the rpms it will
contain.
Dist repos hard link (same volume) or copy (different volume) their rpms into
place.
Using the appropriate volume can drastically improve the efficiency, both in
generation time and space consumption.</p>
<p><strong>Minor gc optimizations</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1337">https://pagure.io/koji/pull-request/1337</a></div>
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1442">https://pagure.io/koji/pull-request/1442</a></div>
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1437">https://pagure.io/koji/pull-request/1437</a></div>
</div>
<p>This change speeds up portions of garbage collection by making the
<code class="docutils literal notranslate"><span class="pre">build_references</span></code> check lazy by default.</p>
<p><strong>Rollback errors in multiCall</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1358">https://pagure.io/koji/pull-request/1358</a></div>
</div>
<p>If one of the calls in a multicall raises an error, then the transaction will
be rolled back to the start of that call before Koji proceeds to the next call.
This matches the behavior of normal calls more closely.</p>
<p>Multicalls are still handled within single database transaction.</p>
<p><strong>Support tilde in search</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1297">https://pagure.io/koji/pull-request/1297</a></div>
</div>
<p>The tilde character is no longer prohibited in search terms.</p>
<p><strong>Remove ‘keepalive’ option</strong></p>
<div class="line-block">
<div class="line">PR: <a class="reference external" href="https://pagure.io/koji/pull-request/1277">https://pagure.io/koji/pull-request/1277</a></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">keepalive</span></code> setting is no longer used anywhere in koji.
It has been removed.</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="release_notes_1.18.1.html" class="btn btn-neutral float-left" title="Koji 1.18.1 Release Notes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="release_notes_1.17.html" class="btn btn-neutral float-right" title="Koji 1.17.0 Release notes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017, Mike McLean, Mike B, Dennis Gilmore, Mathieu Bridon, Ian McLeod, Ralph Bean, Adam Miller.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>